<!DOCTYPE HTML>
<html>
<head>
  <title>Try PureScript!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:300,600">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/ace.js" charset="utf-8"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/mode-haskell.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.01/theme-dawn.js"></script>
</head>
<body>
  <div id="wrapper">
    <div id="body">
      <div id="column1">
        <div id="options">
          <label id="genjs_label"><input id="genjs" name="genjs" value="genjs" type="checkbox">Generate JS</label>
        </div>
        <div id="code">
        </div>
        <textarea name="code" id="code_textarea" style="display: none;">module Main where

import Prelude

import Data.Foldable (for_)
import Data.String (length, fromCharArray)
import Data.Unfoldable (replicate)

import Control.Monad.Eff
import Control.Monad.Eff.Console (log)

main = do
  header '=' "Try PureScript!"
  newline
  log "Try out the examples below, or create your own!"
  newline
  header '-' "Examples"
  newline
  for_ examples logExample
  newline
  header '-' "Share Your Code"
  newline
  log "Code can be loaded from a GitHub Gist."
  newline
  log "To share code, simply include the Gist ID in the URL as follows:"
  newline
  log "  try.purescript.org?gist=gist-id"
  newline
  log "The Gist should contain a file named Main.purs containing your PureScript code."
  newline
  log "Any strings of the form ?gist=gist-id which are logged to the console"
  log "will be replaced with links."

  where
  newline = log " "

  header headerChar s = do
    log s
    log $ fromCharArray (replicate (length s) headerChar)

  logExample ex = do
    log $ "- " <> ex.title <> " (?gist=" <> ex.gist <> ")"

  examples =
    [ { title: "Algebraic Data Types"
      , gist: "37c3c97f47a43f20c548"
      }
    , { title: "Loops"
      , gist: "cfdabdcd085d4ac3dc46"
      }
    , { title: "Operators"
      , gist: "3044550f29a7c5d3d0d0"
      }
    , { title: "Records"
      , gist: "b80be527ada3eab47dc5"
      }
    , { title: "Recursion"
      , gist: "ff49cc7dc85923a75613"
      }
    , { title: "Do Notation"
      , gist: "47c2d9913c5dbda1e963"
      }
    , { title: "Type Classes"
      , gist: "1a3b845e8c6defde659a"
      }
    , { title: "Generic Programming"
      , gist: "3f735aa2a652af592101"
      }
    , { title: "QuickCheck"
      , gist: "69f7f94fe4ff3bd47f4b"
      }
    ]</textarea>
      </div>

      <div class="separator">
      </div>

      <div id="column2">
      </div>

      <script type="text/javascript" src="js/index.js"></script>
    </div>
  </div>
</body>
</html>
