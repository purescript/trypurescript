{
  "license": "MIT",
  "name": "tps",
  "config": {
    "configpath": "config/dev/*.purs"
  },
  "scripts": {
    "c-user-facing": "# --------- user facing scripts -------",

    "c-gen-css": "# -- Generate tailwind css AND purs css wrapper",
    "gen-css": "npm run build-css-only && npm run css2purs",

    "c1-lock-css": "# -- Strip away unused css from autogenerated purs files.",
    "c2-lock-css": "# -- This improves rebuild times, but won't allow adding new css.",
    "c3-lock-css": "# -- So re-run gen-css before making additional css changes.",
    "lock-css": "npm run bundle && npm run css-purge && npm run css2purs",

    "c-build": "# -- Build purs code in project",
    "build": "spago build --path $npm_package_config_configpath",

    "c-start": "# -- Launch development server in web browser",
    "start": "npm run build && cp config/dev/index.js public && webpack-dev-server --port 1234 --open --config webpack.dev.js",

    "c-prod": "# -- Create minified production build",
    "prod": "npm run bundle && npm run css-purge && webpack --config webpack.prod.js",

    "c-wp-dev-build": "# -- Create unminified dev build. This is useful for troubleshooting the production build.",
    "wp-dev-build": "cp config/dev/index.js public && webpack --config webpack.dev.js",

    "c-serve-static": "# -- serves static files locally. For checking if everything was bundled correctly.",
    "serve-static": "http-server dist/ -c-1 -o tps --port 1234 -P http://localhost:1234\\?",

    "c-internal": "# -------- internal helper scripts -------",

    "bundle": "spago bundle-app --path $npm_package_config_configpath --to public/index.js",
    "build-css-only": "tailwindcss build css/tailwind_inputs.css -o public/tailwind.css",
    "css2purs": "cat public/tailwind.css | ./css/css2purs.py > src/Tailwind.purs",
    "css-purge": "NODE_ENV=production npm run build-css-only"
  },
  "devDependencies": {
    "clean-webpack-plugin": "^3.0.0",
    "copy-webpack-plugin": "^6.0.3",
    "css-loader": "^3.6.0",
    "cssnano": "^4.1.10",
    "exports-loader": "^1.1.0",
    "file-loader": "^6.0.0",
    "html-webpack-plugin": "^4.3.0",
    "style-loader": "^1.2.1",
    "tailwindcss": "^1.4.6",
    "webpack": "^4.43.0",
    "webpack-cli": "^3.3.12",
    "webpack-dev-server": "^3.11.0",
    "webpack-merge": "^5.0.9",
    "xhr2": "^0.2.0"
  }
}
